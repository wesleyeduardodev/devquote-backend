<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports
              http://jasperreports.sourceforge.net/xsd/jasperreport.xsd"
              name="content_blocks_subreport"
              pageWidth="545"
              pageHeight="802"
              columnWidth="545"
              leftMargin="0"
              rightMargin="0"
              topMargin="0"
              bottomMargin="0"
              uuid="b10c4512-3456-7890-1234-567890123456">

    <field name="type" class="java.lang.String"/>
    <field name="text" class="java.lang.String"/>
    <field name="imageBytes" class="byte[]"/>
    <field name="order" class="java.lang.Integer"/>

    <detail>
        <band height="20" splitType="Stretch">
            <printWhenExpression><![CDATA["TEXT".equals($F{type})]]></printWhenExpression>

            <textField textAdjust="StretchHeight" isBlankWhenNull="true">
                <reportElement x="0" y="0" width="545" height="15" uuid="a1b2c3d4-e5f6-7890-1234-567890123456"/>
                <textElement>
                    <font fontName="DejaVu Sans" size="9"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{text}]]></textFieldExpression>
            </textField>
        </band>

        <band height="20" splitType="Stretch">
            <printWhenExpression><![CDATA["IMAGE".equals($F{type}) && $F{imageBytes} != null]]></printWhenExpression>

            <image scaleImage="RealSize" hAlign="Left" vAlign="Top" isUsingCache="false" onErrorType="Blank">
                <reportElement stretchType="RelativeToTallestObject" x="0" y="5" width="545" height="10" uuid="c3d4e5f6-a7b8-9012-3456-789012345678"/>
                <imageExpression><![CDATA[new java.io.ByteArrayInputStream($F{imageBytes})]]></imageExpression>
            </image>
        </band>
    </detail>
</jasperReport>
